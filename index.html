<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Open-AES67: PTP.STM32</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Open-AES67
   </div>
   <div id="projectbrief">Simple PTP for STM32</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">PTP.STM32 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a>PTPv2 grandmaster based on the ARM CMSIS standard interface</p>
<p>TODO:</p>
<ul>
<li>get basic TCP/IP example up and running: basic DHCP Autodiscovery vs. Static IP</li>
<li>Ethernetif Driver:<ul>
<li>Sort Ethernet Interrupts</li>
<li>Get Recieve Demo/ICMP working</li>
<li>Add Static IP Override</li>
<li>Neaten Driver Code</li>
<li>Add IGMP Support</li>
<li>Add Link Polling/Detection</li>
</ul>
</li>
<li>Start Adding PTP functionality to the Ethernet Driver</li>
<li>get PTP daemon running on STM32F7. Port F4 code</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Reference Software Tools:</h1>
<ul>
<li>ANEMAN <a href="https://www.aneman.net/">https://www.aneman.net/</a> : This is similar to Dante Controller, but works with a plugin format that means anyone can create a device profile/protocol that can interoperate with an AES67 network.</li>
<li>Merging VAD <a href="https://www.merging.com/products/aes67_vad_standard">https://www.merging.com/products/aes67_vad_standard</a> : OSX only, but allows for up to 64 channels of IO with the free version. Plays nicely with ANEMAN.</li>
<li>Ravenna RVSC <a href="https://www.ravenna-network.com/resources/">https://www.ravenna-network.com/resources/</a> : a windows-compatible AES67 virtual soundcard which can be used for testing up to 16 channels of IO.</li>
<li>Open-Source AES67 Daemon <a href="https://github.com/bondagit/aes67-linux-daemon">https://github.com/bondagit/aes67-linux-daemon</a> : recently released, looks good, might free any long-term RAVENNA dependencies. Not really a production release yet.</li>
</ul>
<h1><a class="anchor" id="autotoc_md3"></a>
Project Structure:</h1>
<ul>
<li>The project is designed to work using the CMSIS interface: this means that the core code should run on any Cortex-M microcontroller with appropriate peripherals</li>
<li>Note that while the CMSIS standard provides a selection of function declarations to interact with the MCU hardware, the implementation is up to you/the manufacturer. The folder labelled <code>dev/</code> contains implementations of the CMSIS functions and any other low-level setup code.</li>
<li>To port this project to another ARM MCU, make a device folder following the structure illustrated in the <code>dev/stm32f767xx/</code> folder. Note that the device folder is the ONLY folder that can contain device-specific/non-CMSIS-Compliant code. The src code should work with all devices without modification.</li>
</ul>
<h1><a class="anchor" id="autotoc_md4"></a>
Building this Project:</h1>
<ul>
<li>To build the firmware for all devices, simply run <code>make</code>. ELFs and binaries will be generated in the appropriate <code>bin/</code> folder. Similarly, <code>make clean</code> will clean all devices.</li>
<li><code>make flash</code> will build the code for all devices, then run each device's <code>prog/'device'/flash.sh</code> script. These scripts do not initially do anything, and should be set up by the user to suit their programming setup. Some example targets are provided at the bottom of the script. If the project is built with <code>make flash FLAGS=-g</code>, then the script can be configured to launch a 'debug' version of the flash program (e.g. launch GDB, etc...)</li>
<li>To build/clean/flash only a single device, suffix the make command with <code>_'device'</code>, e.g. <code>make stm32f767xx</code>, <code>make clean_stm32f767xxx</code>, <code>make flash_stm32f767xxx</code>, etc... </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
